{% extends "base.html" %}

{% set current_page = 'recipe' %}

{% block title %}Trang chủ - Quản lý Sao kê Ngân hàng{% endblock %}

{% block page_title %}

{% endblock %}

{% block hero %}
<!-- Hero Section -->

{% endblock %}

{% block content %}
<style>
    .widget-chart-md {
        height: 190px;
    }

    .card-recipe,
    .card-step {
        cursor: pointer;
        background-image: linear-gradient(135deg, transparent 0%, transparent 100%);
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
    }

    .card-recipe {
        border-width: 0;
        border-radius: 22px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
    }

    .card-recipe:hover {
        transform: translateX(5px);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2), 0 4px 15px rgba(0 0 0 / 0.01);
        background-image: linear-gradient(135deg, transparent 0%, var(--bs-primary-bg-subtle) 100%);
    }

    .card-recipe.active {
        background-image: linear-gradient(135deg, transparent 0%, var(--bs-primary-bg-subtle) 100%);
        border-width: 1px;
        border-color: var(--bs-primary);
        position: relative;
    }

    .card-recipe.active::after {
        content: '✓';
        position: absolute;
        top: 50%;
        right: 15px;
        width: 24px;
        height: 24px;
        background: rgba(255, 255, 255, 0.9);
        color: var(--bs-primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 14px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        transform: translateY(-50%);
    }

    .card-step {
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .card-step:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .card-step.active {
        border-color: var(--bs-primary);
        background-image: linear-gradient(135deg, transparent 0%, var(--bs-primary-bg-subtle) 100%);
        box-shadow: 0 2px 8px rgba(0, 123, 255, 0.15);
    }

    .card-recipe::before,
    .card-step::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(0 0 0 / 0.03), transparent);
        transition: left 0.5s ease;
    }

    .card-recipe:hover::before,
    .card-step:hover::before {
        left: 100%;
    }

    .step-number .badge {
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.875rem;
    }

    .card-step.active .step-number .badge {
        background-color: #007bff !important;
    }

    /* Custom Scrollbar for Card Scroll (Recipe Sidebar) */
    .card.card-1.overflow-y-auto {
      scrollbar-width: thin;
      scrollbar-color: rgba(var(--bs-primary-rgb), 0.18) rgba(var(--bs-primary-rgb), 0.04);
    }
    .card.card-1.overflow-y-auto::-webkit-scrollbar {
      width: 8px;
      border-radius: 8px;
    }
    .card.card-1.overflow-y-auto::-webkit-scrollbar-track {
      background: rgba(var(--bs-primary-rgb), 0.04);
      border-radius: 8px;
    }
    .card.card-1.overflow-y-auto::-webkit-scrollbar-thumb {
      background: linear-gradient(135deg, rgba(var(--bs-primary-rgb), 0.18) 0%, rgba(var(--bs-primary-rgb), 0.10) 100%);
      border-radius: 8px;
      transition: background 0.2s;
    }
    .card.card-1.overflow-y-auto::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(135deg, rgba(var(--bs-primary-rgb), 0.28) 0%, rgba(var(--bs-primary-rgb), 0.18) 100%);
    }
</style>

<div class="container-fluid p-0">
    <div class="row">

        <div class="col-3 glass-container rounded-0 p-0 m-0" style="position: sticky; top: 70px; height: calc(100vh - 70px);">
            <div class="card card-1 h-100 overflow-y-auto rounded-0 mb-4">

                <div class="d-flex align-items-center sticky-top bg-body px-4 py-3"
                    style="top: 0; left: 0; right: 0; z-index: 10;">
                    <i class="fal fa-receipt me-3 fs-4"></i>
                    <h5 class="mb-0">Công thức</h5>
                    <!-- <button class="btn btn-2 ms-auto d-flex align-items-center">
                            <i class="fas fa-plus me-2"></i>Thêm
                        </button> -->
                </div>

                <div class="card-body d-flex flex-column pt-1 pb-4">

                    <div class="card card-recipe mb-3">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <div class="fw-semibold">CIP - Nước nóng</div>
                                    <div class="text-muted small"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card-recipe mb-3">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <div class="fw-semibold">CIP - Nước RO</div>
                                    <div class="text-muted small"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card-recipe mb-3">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <div class="fw-semibold">CIP 1 bước</div>
                                    <div class="text-muted small"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card-recipe mb-3">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <div class="fw-semibold">CIP 2 bước</div>
                                    <div class="text-muted small"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card-recipe mb-3">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <div class="fw-semibold">CIP 3 bước</div>
                                    <div class="text-muted small">Chương trình 1</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card-recipe mb-3">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <div class="fw-semibold">CIP 3 bước</div>
                                    <div class="text-muted small">Chương trình 2</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card-recipe mb-3">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <div class="fw-semibold">CIP 3 bước</div>
                                    <div class="text-muted small">Chương trình 3</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card-recipe active mb-3">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <div class="fw-semibold">CIP 5 bước</div>
                                    <div class="text-muted small">Chương trình 1</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card-recipe mb-3">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <div class="fw-semibold">CIP 5 bước</div>
                                    <div class="text-muted small">Chương trình 2</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card-recipe mb-3">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <div class="fw-semibold">CIP 5 bước</div>
                                    <div class="text-muted small">Chương trình 3</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card-recipe mb-3">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <div class="fw-semibold">CIP 5 bước</div>
                                    <div class="text-muted small">Chương trình 4</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card card-recipe mb-3">
                        <div class="card-body p-3">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <div class="fw-semibold">CIP 5 bước</div>
                                    <div class="text-muted small">Chương trình 5</div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="col-9 p-4">
            <div class="row h-100">
                <!-- Phần chọn bước -->
                <div class="col-4">
                    <div class="card card-1 h-100">
                        <div class="d-flex align-items-center bg-body px-4 py-3">
                            <i class="fal fa-list-ol me-3 fs-4"></i>
                            <h5 class="mb-0">Bước thực hiện</h5>
                        </div>

                        <div class="card-body pt-1 pb-4">
                            <!-- Bước 1 -->
                            <div class="card card-step mb-3 active">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center">
                                        <div class="step-number me-3">
                                            <span class="badge bg-primary rounded-circle">1</span>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="fw-semibold">Nước RO - 5 phút</div>
                                            <div class="text-muted small"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Bước 2 -->
                            <div class="card card-step mb-3">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center">
                                        <div class="step-number me-3">
                                            <span class="badge bg-secondary rounded-circle">2</span>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="fw-semibold">NaOH - 15 phút</div>
                                            <div class="text-muted small"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Bước 3 -->
                            <div class="card card-step mb-3">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center">
                                        <div class="step-number me-3">
                                            <span class="badge bg-secondary rounded-circle">3</span>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="fw-semibold">Nước RO - 10 phút</div>
                                            <div class="text-muted small"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Bước 4 -->
                            <div class="card card-step mb-3">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center">
                                        <div class="step-number me-3">
                                            <span class="badge bg-secondary rounded-circle">4</span>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="fw-semibold">HNO3 - 12 phút</div>
                                            <div class="text-muted small"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Bước 5 -->
                            <div class="card card-step mb-3">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center">
                                        <div class="step-number me-3">
                                            <span class="badge bg-secondary rounded-circle">5</span>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="fw-semibold">Nước RO - 8 phút</div>
                                            <div class="text-muted small"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Bước kết thúc -->
                            <div class="card card-step mb-3">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center">
                                        <div class="step-number me-3">
                                            <span class="badge bg-success rounded-circle">
                                                <i class="fas fa-check"></i>
                                            </span>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="fw-semibold">Hoàn thành</div>
                                            <div class="text-muted small"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Phần hiển thị chi tiết bước -->
                <div class="col-8">
                    <div class="card card-1 h-100">
                        <div class="card-header bg-body">
                            <div class="d-flex align-items-center">
                                <span class="badge bg-primary rounded-circle me-3"
                                    style="width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem;">
                                    1
                                </span>
                                <div>
                                    <h5 class="mb-0">Nước RO - 5 phút</h5>
                                    <small class="text-muted"></small>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-12">
                                    <h6 class="mb-3">Tham số cài đặt</h6>
                                </div>
                            </div>

                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div class="card border-0 bg-light">
                                        <div class="card-body p-3">
                                            <div class="d-flex align-items-center">
                                                <i class="fas fa-flask text-primary me-3 fs-5"></i>
                                                <div class="flex-grow-1">
                                                    <label class="form-label mb-1 fw-semibold">Nguyên liệu</label>
                                                    <input type="text" class="form-control form-control-sm"
                                                        value="Nước RO" readonly>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="card border-0 bg-light">
                                        <div class="card-body p-3">
                                            <div class="d-flex align-items-center">
                                                <i class="fas fa-clock text-info me-3 fs-5"></i>
                                                <div class="flex-grow-1">
                                                    <label class="form-label mb-1 fw-semibold">Thời gian chạy</label>
                                                    <div class="input-group input-group-sm">
                                                        <input type="number" class="form-control" value="5" min="0"
                                                            max="999">
                                                        <span class="input-group-text">phút</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="card border-0 bg-light">
                                        <div class="card-body p-3">
                                            <div class="d-flex align-items-center">
                                                <i class="fas fa-thermometer-half text-danger me-3 fs-5"></i>
                                                <div class="flex-grow-1">
                                                    <label class="form-label mb-1 fw-semibold">Nhiệt độ</label>
                                                    <div class="input-group input-group-sm">
                                                        <input type="number" class="form-control" value="25.0" min="0"
                                                            max="100" step="0.1">
                                                        <span class="input-group-text">°C</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="card border-0 bg-light">
                                        <div class="card-body p-3">
                                            <div class="d-flex align-items-center">
                                                <i class="fas fa-bolt text-warning me-3 fs-5"></i>
                                                <div class="flex-grow-1">
                                                    <label class="form-label mb-1 fw-semibold">Conductivity</label>
                                                    <div class="input-group input-group-sm">
                                                        <input type="number" class="form-control" value="5.0" min="0"
                                                            max="9999" step="0.1">
                                                        <span class="input-group-text">μS/cm</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="card border-0 bg-light">
                                        <div class="card-body p-3">
                                            <div class="d-flex align-items-center">
                                                <i class="fas fa-tint text-success me-3 fs-5"></i>
                                                <div class="flex-grow-1">
                                                    <label class="form-label mb-1 fw-semibold">pH</label>
                                                    <div class="input-group input-group-sm">
                                                        <input type="number" class="form-control" value="7.0" min="0"
                                                            max="14" step="0.1">
                                                        <span class="input-group-text">pH</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-4">
                                <div class="col-12">
                                    <div class="d-flex justify-content-end gap-2">
                                        <button class="btn btn-outline-secondary btn-sm">
                                            <i class="fas fa-undo me-1"></i>Đặt lại
                                        </button>
                                        <button class="btn btn-primary btn-sm">
                                            <i class="fas fa-save me-1"></i>Lưu cài đặt
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<script src="{{url_for('static', filename='js/SensorChart.js')}}"></script>

{% endblock %}